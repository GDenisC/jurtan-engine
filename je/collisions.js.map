{"version":3,"file":"collisions.js","sourceRoot":"je-src/","sources":["collisions.ts"],"names":[],"mappings":"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","sourcesContent":["import { getCanvasInstance } from \"./canvas.js\";\r\nimport { Circle, Point, Rect } from \"./math.js\";\r\n\r\nexport const Collisions = {\r\n    pointToPoint: (a: Point, b: Point) => a.x == b.x && a.y == b.y,\r\n    pointToRect: (a: Point, b: Rect, addSize = false, debug = false) => {\r\n        if (debug) {\r\n            const { ctx } = getCanvasInstance();\r\n            ctx.strokeStyle = 'rgb(255, 0, 0)';\r\n            ctx.strokeRect(a.x, a.y, 4, 4);\r\n            ctx.strokeStyle = 'rgb(0, 255, 0)';\r\n            ctx.strokeRect(b.x, b.y, b.width, b.height);\r\n        }\r\n        if (addSize) {\r\n            b.x += b.width;\r\n            b.y += b.height;\r\n        }\r\n        return a.x <= b.x && b.x <= a.x + b.width && a.y <= b.y && b.y <= a.y + b.height;\r\n    },\r\n    checkCollision: (a: Rect, b: Rect, xs: number, ys: number, debug: boolean = false) => {\r\n        if (debug) {\r\n            const { ctx } = getCanvasInstance();\r\n            ctx.strokeStyle = 'rgb(0, 0, 255)';\r\n            ctx.strokeRect(a.x, a.y, a.width, a.height);\r\n            ctx.strokeStyle = 'rgb(255, 0, 0)';\r\n            ctx.strokeRect(b.x, b.y, b.width, b.height);\r\n        }\r\n        a.x += xs;\r\n        a.y += ys;\r\n        if (debug) {\r\n            const { ctx } = getCanvasInstance();\r\n            ctx.strokeStyle = 'rgb(0, 255, 0)';\r\n            ctx.strokeRect(a.x, a.y, a.width, a.height);\r\n        }\r\n        return (\r\n            a.maxX >= b.minX &&\r\n            a.minX <= b.maxX &&\r\n            a.maxY >= b.minY &&\r\n            a.minY <= b.maxY\r\n        );\r\n    },\r\n    circleToCircle: (a: Circle, b: Circle) => Math.sqrt((a.x - b.x) ** 2 + (a.y - b.y) ** 2) <= a.radius + b.radius\r\n} as const;"]}