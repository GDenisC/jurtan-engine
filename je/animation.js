export class Animation {
}
export class LinealAnimation {
    getY(x) {
        return x;
    }
}
export class LerpAnimation {
    lerp(a, b, t) {
        return a + (b - a) * t;
    }
    getY(x) {
        return this.lerp(x, 1, x);
    }
}
export var AnimatorEndType;
(function (AnimatorEndType) {
    AnimatorEndType[AnimatorEndType["Repeat"] = 0] = "Repeat";
    AnimatorEndType[AnimatorEndType["Stop"] = 1] = "Stop";
    AnimatorEndType[AnimatorEndType["Reverse"] = 2] = "Reverse";
})(AnimatorEndType || (AnimatorEndType = {}));
export class Animator {
    constructor(animation, endType, stepSize) {
        this.endType = endType;
        this.stepSize = stepSize;
        this.isReverse = false;
        this.position = 0;
        this.animation = new animation();
    }
    update() {
        if (this.isReverse ? this.position < 0 : this.position > 1) {
            switch (this.endType) {
                case AnimatorEndType.Repeat:
                    this.position = 0;
                    break;
                case AnimatorEndType.Stop:
                    this.position = 1;
                    break;
                case AnimatorEndType.Reverse:
                    this.isReverse = !this.isReverse;
                    this.position = this.isReverse ? 1 : 0;
                    break;
            }
        }
        const result = this.animation.getY(this.position);
        this.position += this.stepSize * (this.isReverse ? -1 : 1);
        return result;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5pbWF0aW9uLmpzIiwic291cmNlUm9vdCI6ImplLXNyYy8iLCJzb3VyY2VzIjpbImFuaW1hdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLE9BQWdCLFNBQVM7Q0FNOUI7QUFPRCxNQUFNLE9BQU8sZUFBZTtJQUN4QixJQUFJLENBQUMsQ0FBUztRQUNWLE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztDQUNKO0FBRUQsTUFBTSxPQUFPLGFBQWE7SUFDdEIsSUFBSSxDQUFDLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUztRQUNoQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELElBQUksQ0FBQyxDQUFTO1FBQ1YsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDOUIsQ0FBQztDQUNKO0FBRUQsTUFBTSxDQUFOLElBQVksZUFJWDtBQUpELFdBQVksZUFBZTtJQUN2Qix5REFBTSxDQUFBO0lBQ04scURBQUksQ0FBQTtJQUNKLDJEQUFPLENBQUE7QUFDWCxDQUFDLEVBSlcsZUFBZSxLQUFmLGVBQWUsUUFJMUI7QUFFRCxNQUFNLE9BQU8sUUFBUTtJQU1qQixZQUFZLFNBQStCLEVBQVMsT0FBd0IsRUFBUyxRQUFnQjtRQUFqRCxZQUFPLEdBQVAsT0FBTyxDQUFpQjtRQUFTLGFBQVEsR0FBUixRQUFRLENBQVE7UUFMM0YsY0FBUyxHQUFZLEtBQUssQ0FBQztRQUdyQyxhQUFRLEdBQVcsQ0FBQyxDQUFDO1FBR2pCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxTQUFTLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUQsTUFBTTtRQUNGLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxFQUFFO1lBQ3hELFFBQVEsSUFBSSxDQUFDLE9BQU8sRUFBRTtnQkFDbEIsS0FBSyxlQUFlLENBQUMsTUFBTTtvQkFDdkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7b0JBQ2xCLE1BQU07Z0JBQ1YsS0FBSyxlQUFlLENBQUMsSUFBSTtvQkFDckIsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7b0JBQ2xCLE1BQU07Z0JBQ1YsS0FBSyxlQUFlLENBQUMsT0FBTztvQkFDeEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7b0JBQ2pDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3ZDLE1BQU07YUFDYjtTQUNKO1FBQ0QsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgYWJzdHJhY3QgY2xhc3MgQW5pbWF0aW9uIHtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGFuaW1hdGlvblxyXG4gICAgICogQHBhcmFtIHggbWluIDAsIG1heCAxXHJcbiAgICAgKi9cclxuICAgIGFic3RyYWN0IGdldFkoeDogbnVtYmVyKTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFuaW1hdGlvbkNvbnN0cnVjdG9yIHtcclxuICAgIG5ldygpOiBBbmltYXRpb247XHJcbiAgICBnZXRZKHg6IG51bWJlcik6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExpbmVhbEFuaW1hdGlvbiB7XHJcbiAgICBnZXRZKHg6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTGVycEFuaW1hdGlvbiB7XHJcbiAgICBsZXJwKGE6IG51bWJlciwgYjogbnVtYmVyLCB0OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gYSArIChiIC0gYSkgKiB0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldFkoeDogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGVycCh4LCAxLCB4KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGVudW0gQW5pbWF0b3JFbmRUeXBlIHtcclxuICAgIFJlcGVhdCxcclxuICAgIFN0b3AsXHJcbiAgICBSZXZlcnNlXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBbmltYXRvciB7XHJcbiAgICBwcm90ZWN0ZWQgaXNSZXZlcnNlOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgYW5pbWF0aW9uOiBBbmltYXRpb247XHJcbiAgICBwb3NpdGlvbjogbnVtYmVyID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhbmltYXRpb246IEFuaW1hdGlvbkNvbnN0cnVjdG9yLCBwdWJsaWMgZW5kVHlwZTogQW5pbWF0b3JFbmRUeXBlLCBwdWJsaWMgc3RlcFNpemU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gbmV3IGFuaW1hdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1JldmVyc2UgPyB0aGlzLnBvc2l0aW9uIDwgMCA6IHRoaXMucG9zaXRpb24gPiAxKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5lbmRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEFuaW1hdG9yRW5kVHlwZS5SZXBlYXQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEFuaW1hdG9yRW5kVHlwZS5TdG9wOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBBbmltYXRvckVuZFR5cGUuUmV2ZXJzZTpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmV2ZXJzZSA9ICF0aGlzLmlzUmV2ZXJzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5pc1JldmVyc2UgPyAxIDogMDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmFuaW1hdGlvbi5nZXRZKHRoaXMucG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gKz0gdGhpcy5zdGVwU2l6ZSAqICh0aGlzLmlzUmV2ZXJzZSA/IC0xIDogMSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufSJdfQ==