{"version":3,"file":"image.js","sourceRoot":"je-src/","sources":["instances/modules/image.ts"],"names":[],"mappings":"AAAA,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,iBAAiB,EAAE,MAAM,cAAc,CAAC;AAEjD,MAAM,OAAO,WAAY,SAAQ,MAAM;IAKnC,YAAY,GAAW;QACnB,KAAK,EAAE,CAAC;QAJZ,UAAK,GAAW,CAAC,CAAC,CAAC;QACnB,WAAM,GAAW,CAAC,CAAC,CAAC;QAIhB,IAAI,CAAC,KAAK,GAAG,iBAAiB,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAChD,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,MAAM,EAAE,GAAG,EAAE;YACrC,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;gBAChB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;aACjC;YACD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACjB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;aACnC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,IAAI;QACA,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG;YACf,OAAO;QACX,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACvE,CAAC;IAED,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAC1D,CAAC;CACJ","sourcesContent":["import Module from './main';\r\nimport { getCanvasInstance } from '../../canvas';\r\n\r\nexport class ImageModule extends Module {\r\n    image: HTMLImageElement;\r\n    width: number = -1;\r\n    height: number = -1;\r\n\r\n    constructor(url: string) {\r\n        super();\r\n        this.image = getCanvasInstance().loadImage(url);\r\n        this.image.addEventListener('load', () => {\r\n            if (this.width < 0) {\r\n                this.width = this.image.width;\r\n            }\r\n            if (this.height < 0) {\r\n                this.height = this.image.height;\r\n            }\r\n        });\r\n    }\r\n\r\n    draw() {\r\n        if (!this.image.src)\r\n            return;\r\n        this.instance.drawImage(this.image, 0, 0, this.width, this.height);\r\n    }\r\n\r\n    get rect() {\r\n        return this.instance.getRect(this.width, this.height);\r\n    }\r\n}"]}