{"version":3,"file":"button.js","sourceRoot":"je-src/","sources":["ui/button.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAC9C,OAAO,EAAE,QAAQ,EAAY,MAAM,cAAc,CAAC;AAClD,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAEpC,MAAM,OAAO,MAAO,SAAQ,QAAQ;IAKhC,YAAY,CAAS,EAAE,CAAS,EAAS,KAAa,EAAS,MAAc;QACzE,KAAK,EAAE,CAAC;QAD6B,UAAK,GAAL,KAAK,CAAQ;QAAS,WAAM,GAAN,MAAM,CAAQ;QAJ7E,UAAK,GAAG,KAAK,CAAC;QACd,SAAI,GAAG,KAAK,CAAC;QACb,aAAQ,GAAG,KAAK,CAAC;QAIb,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;IACf,CAAC;IAED;;OAEG;IACH,QAAQ;QACJ,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,KAAK,CAAC,UAAU,EAAE,EAAE;YACjG,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,EAAE;gBACpB,IAAI,CAAC,MAAM,EAAE,CAAC;gBACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;aACrB;YAED,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBACpB,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;oBACZ,IAAI,CAAC,OAAO,EAAE,CAAC;oBACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;iBACpB;aACJ;iBAAM;gBACH,IAAI,IAAI,CAAC,IAAI,EAAE;oBACX,IAAI,CAAC,UAAU,EAAE,CAAC;oBAClB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;iBACrB;aACJ;SACJ;aAAM;YACH,IAAI,IAAI,CAAC,KAAK,IAAI,KAAK,EAAE;gBACrB,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;aACtB;YACD,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;aACrB;SACJ;IACL,CAAC;IAED,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACjD,CAAC;IAED,MAAM,KAAI,CAAC;IACX,KAAK,KAAI,CAAC;IACV,OAAO,KAAI,CAAC;IACZ,UAAU,KAAI,CAAC;CAClB","sourcesContent":["import { Collisions } from \"../collisions.js\";\r\nimport { Instance, Rectable } from \"../instances\";\r\nimport { Mouse } from \"../mouse.js\";\r\n\r\nexport class Button extends Instance implements Rectable {\r\n    hover = false;\r\n    hold = false;\r\n    disabled = false;\r\n\r\n    constructor(x: number, y: number, public width: number, public height: number) {\r\n        super();\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    /**\r\n     * `super.onUpdate()` is required\r\n     */\r\n    onUpdate() {\r\n        if (!this.disabled && Collisions.pointToRect(Mouse.position, this.rect, true) && Mouse.isInCanvas()) {\r\n            if (this.hover != true) {\r\n                this.onOver();\r\n                this.hover = true;\r\n            }\r\n\r\n            if (Mouse.isPressed(0)) {\r\n                if (!this.hold) {\r\n                    this.onClick();\r\n                    this.hold = true;\r\n                }\r\n            } else {\r\n                if (this.hold) {\r\n                    this.onClickOut();\r\n                    this.hold = false;\r\n                }\r\n            }\r\n        } else {\r\n            if (this.hover != false) {\r\n                this.onOut();\r\n                this.hover = false;\r\n            }\r\n            if (this.hold) {\r\n                this.onClickOut();\r\n                this.hold = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    get rect() {\r\n        return this.getRect(this.width, this.height);\r\n    }\r\n\r\n    onOver() {}\r\n    onOut() {}\r\n    onClick() {}\r\n    onClickOut() {}\r\n}"]}