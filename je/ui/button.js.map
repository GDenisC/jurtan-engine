{"version":3,"file":"button.js","sourceRoot":"je-src/","sources":["ui/button.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAC9C,OAAO,EAAE,QAAQ,EAAY,MAAM,gBAAgB,CAAC;AACpD,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAEpC,MAAM,OAAO,MAAO,SAAQ,QAAQ;IAKhC,YAAY,CAAS,EAAE,CAAS,EAAS,KAAa,EAAS,MAAc;QACzE,KAAK,EAAE,CAAC;QAD6B,UAAK,GAAL,KAAK,CAAQ;QAAS,WAAM,GAAN,MAAM,CAAQ;QAJ7E,UAAK,GAAG,KAAK,CAAC;QACd,SAAI,GAAG,KAAK,CAAC;QACb,aAAQ,GAAG,KAAK,CAAC;QAIb,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;IACf,CAAC;IAED;;OAEG;IACH,QAAQ;QACJ,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,KAAK,CAAC,UAAU,EAAE,EAAE;YACjG,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,EAAE;gBACpB,IAAI,CAAC,MAAM,EAAE,CAAC;gBACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;aACrB;YAED,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBACpB,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;oBACZ,IAAI,CAAC,OAAO,EAAE,CAAC;oBACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;iBACpB;aACJ;iBAAM;gBACH,IAAI,IAAI,CAAC,IAAI,EAAE;oBACX,IAAI,CAAC,UAAU,EAAE,CAAC;oBAClB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;iBACrB;aACJ;SACJ;aAAM;YACH,IAAI,IAAI,CAAC,KAAK,IAAI,KAAK,EAAE;gBACrB,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;aACtB;YACD,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;aACrB;SACJ;IACL,CAAC;IAED,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACjD,CAAC;IAED,MAAM,KAAI,CAAC;IACX,KAAK,KAAI,CAAC;IACV,OAAO,KAAI,CAAC;IACZ,UAAU,KAAI,CAAC;CAClB","sourcesContent":["import { Collisions } from \"../collisions.js\";\nimport { Instance, Rectable } from \"../instance.js\";\nimport { Mouse } from \"../mouse.js\";\n\nexport class Button extends Instance implements Rectable {\n    hover = false;\n    hold = false;\n    disabled = false;\n\n    constructor(x: number, y: number, public width: number, public height: number) {\n        super();\n        this.x = x;\n        this.y = y;\n    }\n\n    /**\n     * `super.onUpdate()` is required\n     */\n    onUpdate() {\n        if (!this.disabled && Collisions.pointToRect(Mouse.position, this.rect, true) && Mouse.isInCanvas()) {\n            if (this.hover != true) {\n                this.onOver();\n                this.hover = true;\n            }\n\n            if (Mouse.isPressed(0)) {\n                if (!this.hold) {\n                    this.onClick();\n                    this.hold = true;\n                }\n            } else {\n                if (this.hold) {\n                    this.onClickOut();\n                    this.hold = false;\n                }\n            }\n        } else {\n            if (this.hover != false) {\n                this.onOut();\n                this.hover = false;\n            }\n            if (this.hold) {\n                this.onClickOut();\n                this.hold = false;\n            }\n        }\n    }\n\n    get rect() {\n        return this.getRect(this.width, this.height);\n    }\n\n    onOver() {}\n    onOut() {}\n    onClick() {}\n    onClickOut() {}\n}"]}