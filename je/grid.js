import { Color, createColor } from "./colors.js";
import { Instance } from "./instance.js";
export class Grid extends Instance {
    constructor(gridSize = 30, color = createColor(0, 0, 0, 0.1)) {
        super();
        this.gridSize = gridSize;
        this.color = color;
        this._dontTranslate = true;
    }
    onDraw() {
        this.ctx.translate(-this.canvas.camera.x, -this.canvas.camera.y);
        this.setColor(this.color);
        this.ctx.beginPath();
        for (let x = (this.canvas.width / 2 - this.x) % this.gridSize; x < this.canvas.width; x += this.gridSize) {
            this.ctx.moveTo(x, 0);
            this.ctx.lineTo(x, this.canvas.height);
        }
        for (let y = (this.canvas.height / 2 - this.y) % this.gridSize; y < this.canvas.height; y += this.gridSize) {
            this.ctx.moveTo(0, y);
            this.ctx.lineTo(this.canvas.width, y);
        }
        this.ctx.closePath();
        this.ctx.stroke();
        this.setColor(Color.white);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JpZC5qcyIsInNvdXJjZVJvb3QiOiJqZS1zcmMvIiwic291cmNlcyI6WyJncmlkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ2pELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFekMsTUFBTSxPQUFPLElBQUssU0FBUSxRQUFRO0lBQzlCLFlBQW1CLFdBQVcsRUFBRSxFQUFTLFFBQVEsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQztRQUN0RSxLQUFLLEVBQUUsQ0FBQztRQURPLGFBQVEsR0FBUixRQUFRLENBQUs7UUFBUyxVQUFLLEdBQUwsS0FBSyxDQUE0QjtRQUV0RSxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztJQUMvQixDQUFDO0lBRUQsTUFBTTtRQUNGLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUN0RyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDMUM7UUFDRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUN4RyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29sb3IsIGNyZWF0ZUNvbG9yIH0gZnJvbSBcIi4vY29sb3JzLmpzXCI7XHJcbmltcG9ydCB7IEluc3RhbmNlIH0gZnJvbSBcIi4vaW5zdGFuY2UuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkIGV4dGVuZHMgSW5zdGFuY2Uge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIGdyaWRTaXplID0gMzAsIHB1YmxpYyBjb2xvciA9IGNyZWF0ZUNvbG9yKDAsIDAsIDAsIDAuMSkpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX2RvbnRUcmFuc2xhdGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRHJhdygpIHtcclxuICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoLXRoaXMuY2FudmFzLmNhbWVyYS54LCAtdGhpcy5jYW52YXMuY2FtZXJhLnkpO1xyXG4gICAgICAgIHRoaXMuc2V0Q29sb3IodGhpcy5jb2xvcik7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgZm9yIChsZXQgeCA9ICh0aGlzLmNhbnZhcy53aWR0aCAvIDIgLSB0aGlzLngpICUgdGhpcy5ncmlkU2l6ZTsgeCA8IHRoaXMuY2FudmFzLndpZHRoOyB4ICs9IHRoaXMuZ3JpZFNpemUpIHtcclxuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKHgsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8oeCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgeSA9ICh0aGlzLmNhbnZhcy5oZWlnaHQgLyAyIC0gdGhpcy55KSAlIHRoaXMuZ3JpZFNpemU7IHkgPCB0aGlzLmNhbnZhcy5oZWlnaHQ7IHkgKz0gdGhpcy5ncmlkU2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8oMCwgeSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyh0aGlzLmNhbnZhcy53aWR0aCwgeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0Q29sb3IoQ29sb3Iud2hpdGUpO1xyXG4gICAgfVxyXG59Il19