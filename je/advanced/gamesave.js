export const GameSaves = {
    load: (key) => localStorage.getItem(key),
    save: (key, value) => localStorage.setItem(key, value),
    delete: (key) => localStorage.removeItem(key),
    loadJson: (key) => {
        const value = localStorage.getItem(key);
        if (!value)
            return null;
        return JSON.parse(value);
    },
    saveJson: (key, value) => GameSaves.save(key, JSON.stringify(value)),
    deleteAll: () => localStorage.clear()
};
export class GameSave {
    constructor(gameId) {
        this.gameId = gameId;
        const saves = GameSaves.loadJson(gameId);
        this.data = (saves != null) ? saves : {};
    }
    saveAll() {
        GameSaves.saveJson(this.gameId, this.data);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZXNhdmUuanMiLCJzb3VyY2VSb290IjoiamUtc3JjLyIsInNvdXJjZXMiOlsiYWR2YW5jZWQvZ2FtZXNhdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHO0lBQ3JCLElBQUksRUFBRSxDQUFDLEdBQVcsRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7SUFDaEQsSUFBSSxFQUFFLENBQUMsR0FBVyxFQUFFLEtBQWEsRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDO0lBQ3RFLE1BQU0sRUFBRSxDQUFDLEdBQVcsRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUM7SUFFckQsUUFBUSxFQUFFLENBQUMsR0FBVyxFQUFFLEVBQUU7UUFDdEIsTUFBTSxLQUFLLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsS0FBSztZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQ3hCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBQ0QsUUFBUSxFQUFFLENBQUMsR0FBVyxFQUFFLEtBQVUsRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUVqRixTQUFTLEVBQUUsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRTtDQUMvQixDQUFDO0FBRVgsTUFBTSxPQUFPLFFBQVE7SUFHakIsWUFBcUIsTUFBYztRQUFkLFdBQU0sR0FBTixNQUFNLENBQVE7UUFDL0IsTUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUM3QyxDQUFDO0lBRUQsT0FBTztRQUNILFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0MsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IEdhbWVTYXZlcyA9IHtcclxuICAgIGxvYWQ6IChrZXk6IHN0cmluZykgPT4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSxcclxuICAgIHNhdmU6IChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSksXHJcbiAgICBkZWxldGU6IChrZXk6IHN0cmluZykgPT4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KSxcclxuXHJcbiAgICBsb2FkSnNvbjogKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgIGlmICghdmFsdWUpIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcclxuICAgIH0sXHJcbiAgICBzYXZlSnNvbjogKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiBHYW1lU2F2ZXMuc2F2ZShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSksXHJcblxyXG4gICAgZGVsZXRlQWxsOiAoKSA9PiBsb2NhbFN0b3JhZ2UuY2xlYXIoKVxyXG59IGFzIGNvbnN0O1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTYXZlPFQgPSBhbnk+IHtcclxuICAgIGRhdGE6IFQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgZ2FtZUlkOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBzYXZlcyA9IEdhbWVTYXZlcy5sb2FkSnNvbihnYW1lSWQpO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IChzYXZlcyAhPSBudWxsKSA/IHNhdmVzIDoge307XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZUFsbCgpIHtcclxuICAgICAgICBHYW1lU2F2ZXMuc2F2ZUpzb24odGhpcy5nYW1lSWQsIHRoaXMuZGF0YSk7XHJcbiAgICB9XHJcbn0iXX0=