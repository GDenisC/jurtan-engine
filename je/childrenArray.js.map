{"version":3,"file":"childrenArray.js","sourceRoot":"je-src/","sources":["childrenArray.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AAEvC,MAAM,OAAO,aAAa;IAA1B;QACY,YAAO,GAAa,IAAI,CAAC;QACjC,aAAQ,GAAa,EAAE,CAAC;IA0B5B,CAAC;IAxBG,GAAG,CAAC,KAAQ;QACR,IAAI,KAAK,CAAC,MAAM,IAAI,IAAI;YAAE,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;QACxE,KAAK,CAAC,OAAO,GAAG,IAAoB,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED;;OAEG;IACH,QAAQ,CAAC,KAAQ;QACb,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACpB,CAAC;IAED,WAAW,CAAC,KAAQ,EAAE,OAAO,GAAG,IAAI;QAChC,IAAI,OAAO,IAAI,KAAK,YAAY,QAAQ,EAAE;YACtC,KAAK,CAAC,OAAO,EAAE,CAAC;SACnB;QACD,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1D,CAAC;IAED,IAAI,MAAM;QACN,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;CACJ","sourcesContent":["import { Instance } from \"./instances\";\n\nexport class ChildrenArray<T extends ChildrenArray<T>> {\n    private _parent: T | null = null;\n    children: Array<T> = [];\n\n    add(child: T) {\n        if (child.parent != null) throw new Error('Child already has a parent');\n        child._parent = this as unknown as T;\n        this.children.push(child);\n    }\n\n    /**\n     * @deprecated Use `add` instead\n     */\n    addChild(child: T) {\n        this.add(child);\n    }\n\n    removeChild(child: T, cleanup = true) {\n        if (cleanup && child instanceof Instance) {\n            child.destroy();\n        }\n        child._parent = null;\n        this.children.splice(this.children.indexOf(child), 1);\n    }\n\n    get parent() {\n        return this._parent;\n    }\n}"]}