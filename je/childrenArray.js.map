{"version":3,"file":"childrenArray.js","sourceRoot":"je-src/","sources":["childrenArray.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,eAAe,CAAC;AAEzC,MAAM,OAAO,aAAa;IAA1B;QACI,WAAM,GAAa,IAAI,CAAC;QACxB,aAAQ,GAAa,EAAE,CAAC;IAe5B,CAAC;IAbG,QAAQ,CAAC,KAAQ;QACb,IAAI,KAAK,CAAC,MAAM,IAAI,IAAI;YAAE,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;QACxE,KAAK,CAAC,MAAM,GAAG,IAAoB,CAAC;QACpC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,WAAW,CAAC,KAAQ,EAAE,OAAO,GAAG,IAAI;QAChC,IAAI,OAAO,IAAI,KAAK,YAAY,QAAQ,EAAE;YACtC,KAAK,CAAC,OAAO,EAAE,CAAC;SACnB;QACD,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1D,CAAC;CACJ","sourcesContent":["import { Instance } from \"./instance.js\";\n\nexport class ChildrenArray<T extends ChildrenArray<T>> {\n    parent: T | null = null;\n    children: Array<T> = [];\n\n    addChild(child: T) {\n        if (child.parent != null) throw new Error('Child already has a parent');\n        child.parent = this as unknown as T;\n        this.children.push(child);\n    }\n\n    removeChild(child: T, cleanup = true) {\n        if (cleanup && child instanceof Instance) {\n            child.destroy();\n        }\n        child.parent = null;\n        this.children.splice(this.children.indexOf(child), 1);\n    }\n}"]}