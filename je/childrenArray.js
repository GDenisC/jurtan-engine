import { Instance } from "./instance.js";
export class ChildrenArray {
    constructor() {
        this.parent = null;
        this.children = [];
    }
    addChild(child) {
        if (child.parent != null)
            throw new Error('Child already has a parent');
        child.parent = this;
        this.children.push(child);
    }
    removeChild(child, cleanup = true) {
        if (cleanup && child instanceof Instance) {
            child.destroy();
        }
        child.parent = null;
        this.children.splice(this.children.indexOf(child), 1);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hpbGRyZW5BcnJheS5qcyIsInNvdXJjZVJvb3QiOiJqZS1zcmMvIiwic291cmNlcyI6WyJjaGlsZHJlbkFycmF5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFekMsTUFBTSxPQUFPLGFBQWE7SUFBMUI7UUFDSSxXQUFNLEdBQWEsSUFBSSxDQUFDO1FBQ3hCLGFBQVEsR0FBYSxFQUFFLENBQUM7SUFlNUIsQ0FBQztJQWJHLFFBQVEsQ0FBQyxLQUFRO1FBQ2IsSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLElBQUk7WUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLDRCQUE0QixDQUFDLENBQUM7UUFDeEUsS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFvQixDQUFDO1FBQ3BDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRCxXQUFXLENBQUMsS0FBUSxFQUFFLE9BQU8sR0FBRyxJQUFJO1FBQ2hDLElBQUksT0FBTyxJQUFJLEtBQUssWUFBWSxRQUFRLEVBQUU7WUFDdEMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ25CO1FBQ0QsS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDcEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5zdGFuY2UgfSBmcm9tIFwiLi9pbnN0YW5jZS5qc1wiO1xuXG5leHBvcnQgY2xhc3MgQ2hpbGRyZW5BcnJheTxUIGV4dGVuZHMgQ2hpbGRyZW5BcnJheTxUPj4ge1xuICAgIHBhcmVudDogVCB8IG51bGwgPSBudWxsO1xuICAgIGNoaWxkcmVuOiBBcnJheTxUPiA9IFtdO1xuXG4gICAgYWRkQ2hpbGQoY2hpbGQ6IFQpIHtcbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudCAhPSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoJ0NoaWxkIGFscmVhZHkgaGFzIGEgcGFyZW50Jyk7XG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXMgYXMgdW5rbm93biBhcyBUO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgIH1cblxuICAgIHJlbW92ZUNoaWxkKGNoaWxkOiBULCBjbGVhbnVwID0gdHJ1ZSkge1xuICAgICAgICBpZiAoY2xlYW51cCAmJiBjaGlsZCBpbnN0YW5jZW9mIEluc3RhbmNlKSB7XG4gICAgICAgICAgICBjaGlsZC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UodGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKSwgMSk7XG4gICAgfVxufSJdfQ==