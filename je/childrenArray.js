import { Instance } from "./instance.js";
export class ChildrenArray {
    constructor() {
        this.parent = null;
        this.children = [];
    }
    addChild(child) {
        if (child.parent != null)
            throw new Error('Child already has a parent');
        child.parent = this;
        this.children.push(child);
    }
    removeChild(child, cleanup = true) {
        if (cleanup && child instanceof Instance) {
            child.destroy();
        }
        child.parent = null;
        this.children.splice(this.children.indexOf(child), 1);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hpbGRyZW5BcnJheS5qcyIsInNvdXJjZVJvb3QiOiJqZS1zcmMvIiwic291cmNlcyI6WyJjaGlsZHJlbkFycmF5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFekMsTUFBTSxPQUFPLGFBQWE7SUFBMUI7UUFDSSxXQUFNLEdBQWEsSUFBSSxDQUFDO1FBQ3hCLGFBQVEsR0FBYSxFQUFFLENBQUM7SUFlNUIsQ0FBQztJQWJHLFFBQVEsQ0FBQyxLQUFRO1FBQ2IsSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLElBQUk7WUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLDRCQUE0QixDQUFDLENBQUM7UUFDeEUsS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFvQixDQUFDO1FBQ3BDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRCxXQUFXLENBQUMsS0FBUSxFQUFFLE9BQU8sR0FBRyxJQUFJO1FBQ2hDLElBQUksT0FBTyxJQUFJLEtBQUssWUFBWSxRQUFRLEVBQUU7WUFDdEMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ25CO1FBQ0QsS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDcEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5zdGFuY2UgfSBmcm9tIFwiLi9pbnN0YW5jZS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENoaWxkcmVuQXJyYXk8VCBleHRlbmRzIENoaWxkcmVuQXJyYXk8VD4+IHtcclxuICAgIHBhcmVudDogVCB8IG51bGwgPSBudWxsO1xyXG4gICAgY2hpbGRyZW46IEFycmF5PFQ+ID0gW107XHJcblxyXG4gICAgYWRkQ2hpbGQoY2hpbGQ6IFQpIHtcclxuICAgICAgICBpZiAoY2hpbGQucGFyZW50ICE9IG51bGwpIHRocm93IG5ldyBFcnJvcignQ2hpbGQgYWxyZWFkeSBoYXMgYSBwYXJlbnQnKTtcclxuICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzIGFzIHVua25vd24gYXMgVDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUNoaWxkKGNoaWxkOiBULCBjbGVhbnVwID0gdHJ1ZSkge1xyXG4gICAgICAgIGlmIChjbGVhbnVwICYmIGNoaWxkIGluc3RhbmNlb2YgSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgY2hpbGQuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCksIDEpO1xyXG4gICAgfVxyXG59Il19